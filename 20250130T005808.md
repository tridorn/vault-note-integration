---
id: 9364be05-88ae-43a0-8b6e-05db26f3022f
note-author: Ben Jendyk
created: 2024-10-08 16:40
last-modified: 2024-10-09 00:58
language: en
access: public
tags: []
---

Yes, your revised approach—having the cloud storage folder (OneDrive) act as a **pull-only Git repository**—can be a solid solution to meet your needs. This would allow you to maintain the structure you want in OneDrive while avoiding the common issues with syncing between Git and cloud storage. Here’s how to implement this effectively:

### **1. Set Up a Pull-Only Git Repository in OneDrive**

You can configure the **OneDrive folder** as a **clone** of your main GitHub repository, with the key caveat that it will be **pull-only**, meaning no changes from the OneDrive folder are pushed back to GitHub. This keeps GitHub as the authoritative source of truth, while OneDrive acts as a backup or read-only copy for documents.

#### **Steps To Set Up Pull-Only Git Repo in OneDrive**

1. **Create Your GitHub Repository**:
	- Set up your main project repository in GitHub.
	- This repo will contain all your version-controlled files (code, markdown documentation, etc.).

2. **Clone the Repository to OneDrive**:
	- Open a terminal or command prompt, navigate to your desired folder within **OneDrive**, and clone the GitHub repository.

	```bash
   cd /path/to/OneDrive/Projects/
   git clone https://github.com/yourusername/your-repo.git
   ```

3. **Prevent Pushes from OneDrive**:
	- To make sure you cannot accidentally push changes from the OneDrive folder, remove the write permissions for the Git repository in the **OneDrive location** by setting it to **read-only**. Alternatively, you can configure Git itself to **disallow pushing** from this directory.

	To remove push access (optional):

	- Set the remote repository to **read-only** from the OneDrive clone by removing the `push` URL:

	```bash
   cd /path/to/OneDrive/Projects/your-repo
   git remote set-url --push origin no_push
   ```

	This ensures that even if you try to push from the OneDrive folder, it won’t go through.

4. **Regularly Pull Updates**:
	- To keep the documents in sync, periodically **pull** from the GitHub repository.

	```bash
   git pull origin main
   ```

	You can even set up a cron job or a scheduled task that automatically runs `git pull` at regular intervals to keep the OneDrive folder in sync with GitHub.

---

### **2. Use the OneDrive Folder for Large Files and Documents**

With your GitHub repository now mirrored as **pull-only** in OneDrive, you can continue using **OneDrive** for its intended purpose—storing large or non-version-controlled files such as:

- **High-resolution media** (videos, images).
- **Final reports** in binary formats (e.g., Word, PDF).
- **Design assets** (Photoshop, Illustrator files).
- **Backup archives** (ZIPs of older versions or project snapshots).

These files remain outside the GitHub versioning system, but you’ll still have access to them within the same overall structure you prefer.

---

### **3. Advantages of This Setup**

1. **Separation of Concerns**:
	- **GitHub** remains the source of truth for all version-controlled, text-based content.
	- **OneDrive** handles the bulk storage of large and non-versioned files.

2. **Synchronized Documentation**:
	- By cloning the GitHub repository into OneDrive and regularly pulling updates, you’ll always have the latest version of all documentation stored in your cloud storage.
	- This ensures you have access to the GitHub-stored documents alongside your large media and binary files, without having to mix versioning workflows.

3. **Backup and Offline Access**:
	- With the documents also available in OneDrive, you’ll have a **backup** in case something happens to the GitHub repository, as well as **offline access** to all text-based content, even when you aren’t connected to the internet.

4. **No Versioning Conflicts**:
	- Since you’re only pulling from GitHub to OneDrive (and not pushing), you avoid any potential syncing issues or merge conflicts between OneDrive’s syncing mechanism and Git’s version control.

---

### **4. Considerations**

- **Manual Pulls**: If you’re not setting up automated pulls from GitHub, remember to manually run `git pull` in the OneDrive directory to keep everything updated. You could automate this with a scheduled task if needed.
  
- **No Local Editing**: Avoid making changes to files within the OneDrive Git repo clone, as you won’t be able to push those changes back to GitHub from OneDrive. Always edit files from the original **GitHub workspace**, and let OneDrive function purely as a read-only mirror.

---

### **5. Optional Automation for Pulling From GitHub to OneDrive**

To streamline the **pull-only** workflow further, you can automate the pulling process by setting up a script that runs periodically to sync the OneDrive folder with the latest updates from GitHub.

#### **Automation Using a Simple Bash Script (for Mac/Linux)**

```bash
#!/bin/bash

# Navigate to your OneDrive folder
cd /path/to/OneDrive/Projects/your-repo

# Pull the latest changes from GitHub
git pull origin main
```

You can use **cron** to schedule this script to run at regular intervals:

```bash
crontab -e
```

Add the following line to run the script every day at midnight:

```bash
0 0 * * * /path/to/script.sh
```

#### **Windows Automation with Task Scheduler**

1. Create a `.bat` file with the following content:

	```bat
   @echo off
   cd /d "C:\path\to\OneDrive\Projects\your-repo"
   git pull origin main
   ```

2. Open **Task Scheduler** and create a new task to run this `.bat` file at your preferred interval (e.g., every day, or whenever your computer starts).

---

### **Final Folder Setup (Both GitHub & OneDrive)**

#### **GitHub Repo (Primary, Version-Controlled)**

```
/project-root (GitHub)
├── /docs                    # Documentation and text-based content (version-controlled)
│   ├── README.md
│   ├── Technical_Specs.md
├── /src                     # Source code, scripts
├── /config                  # Configuration files
├── .gitignore               # Large files excluded from Git tracking
```

#### **OneDrive Folder (Large Files & Pull-Only Git)**

```
/OneDrive/Projects/YourProject
├── /assets                  # Large assets (videos, images, etc.)
├── /designs                 # Large design files
├── /final_reports           # Final PDFs, presentations
├── /backups                 # Backups of older versions
└── /your-repo (Pull-only Git clone of GitHub repo)
    ├── /docs
    ├── /src
    ├── /config
    └── .gitignore
```

---

By using this **pull-only Git** setup in OneDrive, you keep your workflow centralized and organized while avoiding versioning issues. You have the flexibility of cloud storage for large files while keeping the core project documentation synced between GitHub and OneDrive without conflict. 

Let me know if you'd like to go deeper into any aspect of this workflow or need assistance with the automation part!


#pr/25/094, #status/pending