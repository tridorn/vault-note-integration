# Global conventions (reduced)

* IDs: kebab-case, ideally unique (e.g., 20250812-112233-book-x).
* Dates: ISO 8601 (YYYY-MM-DD or full datetime with timezone).
* Enums: fixed spelling.
* Arrays: ordered if order matters.
* Cross-refs: id, path, or url—don’t mix within one list.

---

## 1) identity

* id (R, string)
* title (R, string)
* type (R, enum: note|book|paper|project|idea|meeting|experiment|spec|review)
* owner (O, string)
* visibility (O, enum: private|team|public)
* language (O, IETF tag)

## 2) intent

* purpose (R, string)
* questions (O, array)
* outcome (O, string)
* audience (O, array)

## 3) sources

* items (O, array<{id, title, author\[], year, container, publisher, edition, doi, isbn, url, pages, accessed}>)

> Rule: if doi present, url optional; else use url.

## 4) inputs

* datasets (O, array<{id, path|url, desc}>)
* requirements (O, array<{id, text}>)
* prompts (O, array<{id, text}>)
* assets (O, array<{id, path|url, kind, desc}>, kind= image|audio|video|doc|code|slide|table)

## 5) method

* approach (O, string)
* steps (O, ordered array)
* tools (O, array)
* protocol (O, string)
* when (O, string|date|range)

## 6) content

* mode (R, enum: draft|summary|analysis|build|final)
* template (O, string)
* scope\_note (O, string)

> Main prose lives in content body.

## 7) findings

* statements (O, array<{id, text}>)
* quotes (O, array<{id, text, source\_id, page}>, <10 lines each)
* artifacts (O, array<{id, path|url, kind, desc}>)
* metrics (O, map\<string, number|string>)
* quality (O, enum: low|medium|high)

## 8) conclusions

* claims (O, array<{id, text, support\[], confidence}>, confidence= low|medium|high)
* decision (O, string)
* rationale (O, string)

## 9) next

* action (O, string, one primary)
* owner (O, string)
* due (O, date|datetime)
* backlog (O, array)

> If state.status = done|canceled, next.action should be empty.

## 10) state

* stage (R, enum: capture|clarify|work|review|done|archive)
* status (R, enum: open|blocked|waiting|done|canceled)
* project (O, string)
* tags (O, array)
* priority (O, enum: low|normal|high|urgent)
* created (R, date)
* updated (R, date)
* effort (O, number)

> If stage=archive, status must be done|canceled.

## 11) ledger

* entries (O, array<{ts, event, who?, meta\_delta\_ref?, note?}>)

> Rule: append only, never edit.

## 12) links

* parent (O, id|path)
* children (O, array\<id|path>)
* depends\_on (O, array\<id|path>)
* related (O, array\<id|path>)
* aliases (O, array)

> Rule: use one identifier form per list.

---

### Minimal required

* identity.id, identity.title, identity.type
* intent.purpose
* content.mode
* state.stage, state.status, state.created, state.updated

### Note-type usage

* Book: focus sources, findings.quotes, conclusions.claims; close with state.stage=done.
* Paper: as book + method section, claims.support linking findings.
* Project/Experiment: rely on inputs, method, findings.metrics/artifacts, next, ledger.
