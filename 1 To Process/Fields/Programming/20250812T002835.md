---
owner: Ben Jendyk
id: 070658bd-3fb1-46c4-8719-cb45aca69172
created: 2025-08-12T00:28:35+0200
modified: 2025-08-12T00:28:35+0200
tags: [access/public, language/en]
key-words: []
aliases: [Create toolbox container if not exists]
title: Create toolbox container if not exists
---

Correction: You should have asked: “Is there a way to declaratively define and persist the setup of a Toolbox container so that, if deleted, I can rapidly recreate it with identical tools and configuration?”

⸻

Yes. You can store a reproducible definition of your Toolbox environment.

But Toolbox itself is not declarative. You must impose reproducibility manually using a scripted setup.

The correct model is to treat Toolbox containers as ephemeral but regenerable execution environments, bootstrapped via a consistent provisioning script or dotfiles repo.

⸻

Implementation Strategy: Container Bootstrap Script

Create a minimal setup script, e.g. setup-vault-env.sh:

#!/bin/bash
set -e

# Create toolbox container if not exists
toolbox list | grep -q vault-env || toolbox create --container vault-env

# Run setup commands inside container
toolbox run --container vault-env bash -c '
  sudo dnf install -y git neovim python3-pip htop
  git config --global user.name "Your Name"
  git config --global user.email "you@example.com"
'

Run this from the host to regenerate the container.

⸻

Alternative: Dotfiles Repo + Provisioning Script
	1.	Create a dotfiles Git repo with:
	•	.bashrc, .gitconfig, aliases
	•	setup.sh for tooling
	•	list of packages you want installed
	2.	Inside setup.sh:

#!/bin/bash
sudo dnf install -y git neovim htop python3-pip
cp .gitconfig ~/
cp .bashrc ~/

	3.	In toolbox:

git clone git@github.com:yourname/dotfiles.git ~/dotfiles
cd ~/dotfiles
./setup.sh


⸻

You Can Also Store Flatpak App State

Flatpak apps are not tied to Toolbox, but for total reproducibility:

flatpak list --app --columns=application > flatpak-apps.txt

Then later:

cat flatpak-apps.txt | xargs -n1 flatpak install -y flathub


⸻

Summary: No Native Declarative Toolbox Yet, But You Can Enforce One

Task	Method
Recreate container	toolbox create --container NAME
Reapply environment config	Bootstrap script or dotfiles repo
Reinstall CLI tools	dnf install inside the container
Reinstall Flatpaks	From saved list

Persist your intent in code. Treat containers as resettable. That’s the correct paradigm under Silverblue.