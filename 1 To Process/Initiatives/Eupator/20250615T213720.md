---
owner: Ben Jendyk
id: 52b8f519-0e27-40e3-8fff-ceb13947608c
created: 2025-06-15T21:37:20+0200
modified: 2025-07-08T06:07:48+0200
tags: [access/public, language/en, pr/25/116, tf/quarter]
key-words: []
---

Your request would gain precision as: _"List the infrastructure elements that form the non-negotiable, slow-changing backbone of the system--distinct from UI or vendor choices--and codify their mandate."_

* * *

## Immutable Core Spine

| Layer | Protocol / Concept | Mandate | Why It Rarely Changes | 
| ---- | ---- | ---- | ----  |
| **1. Ledger** | **Git** (v2 protocol) | Authoritative history for every text artefact: MasterContent, InterfaceContracts, DecisionLogs, ProcessCards. | Git is an open protocol with two decades of adoption; switching away would break SHA links woven into every artefact. | 
| **2. Object Vault** | **S3-compatible object storage** | Binary assets, build artefacts, data snapshots. | S3 API is de-facto industry standard; vendors come and go, but the API surface is stable. | 
| **3. Structured Core** | **SQL RDBMS** (PostgreSQL dialect) | MetricMap, RiskSheet, audit mirrors. | ANSI SQL is durable; schemas evolve but the engine abstraction persists. | 
| **4. Identity Backbone** | **OIDC / SAML IdP** (Okta, Auth0, or Keycloak) | Single source of user truth feeding Git, Vault, Slack, BI. | OIDC is protocol, not product; swapping IdP is migration, not redesign. | 
| **5. Automation Fabric** | **CI runners with container runtime** (GitHub Actions, GitLab Runners; OCI containers) | Linting, build, artefact push, bot actions. | Containers + YAML workflows are vendor-neutral; runner fleet can be re-homed. | 
| **6. IaC State** | **Terraform state backend**(remote) | Declarative record of infrastructure and bucket policies. | Terraform's HCL + state locking is provider-agnostic; keeps infra drift-free across providers. | 
| **7. Time-Series & Logs** | **Append-only log aggregator** (Loki, Elasticsearch, OpenTelemetry) | Continuous audit: commit events, CI runs, access logs. | Log protocols stay stable; tooling may swap but data stream shape endures. | 

> **Principle**: Protocol > Product.  
Migrate UI or vendor at will--so long as the protocol contract above is untouched, artefacts and automations survive.

* * *

## Peripheral, Swappable Components

| Category | Typical initial pick | Swap Cost | 
| ---- | ---- | ----  |
| Real-time chat | Slack → Mattermost / Teams | Low (webhook parity) | 
| Web UI / Console | Retool → internal React app | Moderate (API reuse) | 
| Dashboards | Metabase → Lightdash / Grafana | Low (SQL queries portable) | 
| HRIS / ERP | Personio → Factorial | Isolated; no spine dependency | 

These sit _on top_ of the spine via API; churn here does not ripple downward.

* * *

## Interaction Pattern (Redux)
    
    
    User → Web UI (Retool) → Git API / S3 API / SQL
                     └─► CI Runner → S3 push, Git tag, SQL insert
                             └─► Logs streamed to Loki
    All auth via OIDC token from IdP
    

If Retool is later replaced with an in-house frontend, only the **UI-to-API** layer changes--spine untouched.
* * *

### Migration Guardrails

1. **Protocol-First Contracts**

    - Store S3 keys, Git commit SHAs, SQL IDs inside artefacts--never vendor URLs.

2. **Stateless Runners**

    - CI runners pull credentials from Terraform-managed OIDC roles; move the runners, not the scripts.

3. **Zero Config Drift**

    - Weekly Terraform plan diff; any manual bucket rule drift fails the pipeline.
* * *

### Bottom Line

Lock your future on **Git + S3 API + ANSI SQL + OIDC + Terraform state**.  
UI, HRIS, chat, even the cloud provider can rotate without systemic surgery.