---
owner: Ben Jendyk
id: b24cddd9-2e6d-4075-a7bb-dce4217b3764
created: 2025-04-25T17:57:17+0200
modified: 2025-05-16T18:43:26+0200
tags: [access/public, language/en, pr/25/084, tf/quarter]
key-words: []
---

## I Re-forged **Actor Capability Matrix**  
*All powers are now expressed as **facet-level operations** on the single “Opportunity” aggregate.  “Attach” ≈ create + populate; “Advance” ≈ valid state transition.*

| Actor | **Facet-Level Powers** (Discretionary) | **Hard Obligations** (Non-waivable) | **Interdictions** | **Primary Trigger-Events**¹ |
|-------|-----------------------------------------|-------------------------------------|-------------------|-----------------------------|
| **SME** | • `CreateOpportunity` (CoreHeader) • `Attach` FinancialFacet • `Attach` ImpactFacet • `Advance` FinancialFacet → `Accepted` • `Update` ImpactFacet payload | • Furnish KYC bundle within **T-24 h** of `CreateOpportunity` • File periodic `ImpactReport` until Opportunity = Settled | • Alter VerificationFacet payload • Mutate CreditDecisionFacet | O1, O2, O9 |
| **Vendor** | • `Attach` VendorFacet • `Update` milestones • `Signal` milestone completion | • Respond to Verifier scheduling within SLA | • Self-verify impact claims | O3, O4 |
| **Platform** *(Your system)* | • Orchestrate any `Attach` or `Advance` command on behalf of authorised actor • Seal Opportunity hash after each facet mutation • Emit timeout events | • Maintain immutable event store • Enforce RBAC & schema validation • Escalate SLA breaches | • Author content of Financial/Verification/CreditDecision facets | **All** |
| **External Verifier** | • `Attach` VerificationFacet • `Advance` VerificationFacet → `Verified` or `Rejected` | • Upload Assurance payload within **T-4 d** of audit start | • Edit Financial or Vendor facets | O4, O5 |
| **Bank** | • `Attach` CreditDecisionFacet • `Advance` CreditDecisionFacet → `Approved/Declined` • Issue Disbursement instruction | • Render decision ≤ **T-5 bd** after O6 • Report subsidised loans to regulator | • Edit VerificationFacet • Modify Opportunity root hash | O6, O7 |
| **Regulator / Incentive Body** | • `Attach` IncentiveFacet • `Advance` IncentiveFacet → `Granted/Revoked` | • Publish taxonomy updates • Receive compliance feeds | • Influence CreditDecision state transition | O8 |

> ¹ Event codes reference the **Trigger Ledger** below; an actor’s presence under “Primary Trigger-Events” means the event compels at least one obligatory action.

---

## II Re-forged **Actor Trigger Ledger**  
*Ledger now references **Opportunity-centric events** (`O-codes`) instead of document shuttling.*

| **O-Code** | Event Semantics | Initiator | Obligated Respondent(s) | Preconditions | Data Payload | SLA | Breach Consequence |
|------------|----------------|-----------|-------------------------|---------------|--------------|-----|--------------------|
| **O0** | `ActorOnboarded` | Any actor | Platform | Valid ID token | KYC stub | 24 h ingestion | Onboarding abort |
| **O1** | `OpportunityCreated` (CoreHeader attached) | SME | Platform | O0 for SME | CoreHeader JSON | N/A | — |
| **O2** | `FinancialFacetAttached` | SME | Platform | O1 | FinancialFacet payload | Instant schema-check | Reject facet block |
| **O3** | `VendorFacetAttached` | Vendor | Platform, SME | O2 | Proposal hash | 48 h SME review | Proposal lapse |
| **O4** | `VerificationRequested` (VerificationFacet in Draft) | Platform | External Verifier, Vendor | O3 + mandatory docs present | Verification plan stub | 24 h schedule confirm | SLA escalation |
| **O5** | `VerificationCompleted` | External Verifier | Platform, Bank | O4 audit executed | AssuranceReport hash | 24 h ingest | Dossier stale flag |
| **O6** | `CreditDecisionRequested` | Platform | Bank | O5 verified | Dossier pointer | 5 bd | Auto-decline |
| **O7** | `CreditDecisionRendered` | Bank | SME, Platform | O6 | Decision payload | 10 d SME acceptance | Offer expiry |
| **O8** | `IncentiveFacetAttached` | Regulator | Platform | Opportunity has `Approved` decision & taxonomy match | Subsidy certificate | 48 h platform accept | Incentive void |
| **O9** | `ImpactReportDue` | Platform (cron) | SME, External Verifier | Opportunity = Active | Prefilled report template | 7 d submission | Subsidy claw-back |
| **O10** | `OpportunitySettled` | Platform | Regulator, Bank | All repayments complete | Settlement proof | Immediate | Archive sequence |

---

### III Refactoring Logic

1. **From Document to Facet Authority** — Every capability now names an *atomic command* over a facet (`Attach`, `Update`, `Advance`).  
2. **From Static Event List to Extensible O-codes** — Ledger enumerates *canonical* events; new instrument types simply mint new O-codes without perturbing existing time-outs or SLAs.  
3. **Back-Reference Discipline** — Capabilities cite O-codes; O-codes cite facet states; state-machines embed identical O-codes on transitions. This triadic linkage eradicates orphan logic.

Lock these two reforged artefacts in version control; retire the E-code tables to an `/archive/legacy-design` folder to avoid namespace collision.