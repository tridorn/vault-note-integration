---
owner: Ben Jendyk
id: ff8555a5-e005-45fc-aa63-8ef1354155f6
created: 2025-04-25T18:54:30+0200
modified: 2025-05-16T18:43:26+0200
tags: [access/public, language/en, pr/25/084, tf/quarter]
key-words: []
---

## De-Risked “Ready-to-Deploy” Facet Stack  
*One aggregate, thirty-two orthogonal facets. Add or retire facets without disturbing the rest.*

| UID | Facet | Domain | Mandatory? | Typical Attach Trigger (O-code / Command) | Attach Actor | Cardinal State Sequence (`Draft → … → Terminal`) | Purpose Kernel |
|-----|-------|--------|------------|-------------------------------------------|--------------|-----------------------------------------------|----------------|
| **F-00** | **CoreHeader** | Core | **Yes** | `O1 OpportunityCreated` | SME | Immutable | Root identity & type discriminator |
| **F-01** | **IdentityFacet** | Core | Yes | Auto on `O1` | Platform | Immutable | Canonical actor reference set (UUIDs, DID) |
| **F-02** | **ConsentFacet** | Core | Yes (GDPR) | `AttachConsent` | SME | `Granted → Revoked` | Data-processing permission ledger |
| **F-03** | **FinancialFacet** | Finance | Yes for monetary deals | `AttachFinancialFacet` | SME | `Draft → Proposed → Accepted → Active → Settled` | Principal, tenor, currency |
| **F-04** | **RepaymentScheduleFacet** | Finance | Conditional | `AttachSchedule` post-F-03 Accepted | Platform | `Draft → Active → Completed` | Instalment calendar & status |
| **F-05** | **InterestRateFacet** | Finance | Conditional | `AttachRate` | Bank | `Fixed / Float → Locked` | Index + margin, reset rules |
| **F-06** | **FeeFacet** | Finance | Optional | `AttachFee` | Platform | `Draft → Locked → Settled` | Origination & servicing charges |
| **F-07** | **DisbursementFacet** | Finance | Conditional | `O10 DisbursementExecuted` | Bank | `Pending → Executed` | SWIFT/SEPA instructions |
| **F-08** | **CollateralFacet** | Finance | Optional | `AttachCollateral` | SME | `Draft → Perfected → Released` | Security interest metadata |
| **F-09** | **GuaranteeFacet** | Finance | Optional | Regulator subsidy linkage (`O8`) | Regulator | `Pending → Granted → Revoked` | Coverage %, cap, expiry |
| **F-10** | **ForexFacet** | Finance | Optional | `AttachForex` | Bank | `Quoted → Locked → Expired` | FX rate fixings for multi-currency |
| **F-11** | **TreasuryFundingFacet** | Finance | Internal | `AttachFundingLine` | Bank | `Allocated → Drawn → Closed` | Links to bank treasury book |
| **F-12** | **ImpactFacet** | Sustainability | Optional | Taxonomy flag in CoreHeader | SME | `Draft → Proposed → Verified → Locked` | Baseline + projected CO₂-e |
| **F-13** | **ESGScoreFacet** | Sustainability | Optional | `AttachESGScore` | External Verifier | `Rated → Expired` | Third-party ESG rating snapshot |
| **F-14** | **CarbonCreditFacet** | Sustainability | Optional | `AttachCarbonCredit` | SME / Verifier | `Draft → Issued → Retired` | Serialised carbon offsets |
| **F-15** | **UsageMetricFacet** | Sustainability | Optional | IoT ingestion | Platform | `Streaming` | k-Wh, m³, etc. (time series pointer) |
| **F-16** | **VendorFacet** | Operational | Conditional | `AttachVendorFacet` | Vendor | `Draft → Committed → Completed` | Proposal + milestone ledger |
| **F-17** | **VerificationFacet** | Operational | Optional | `O4 VerificationRequested` | External Verifier | `Planned → InProgress → Verified / Rejected` | Audit artefacts |
| **F-18** | **MarketplaceFacet** | Operational | Optional | `OpenMarketplace` | Platform | `Open → Matched → Closed` | Multi-vendor bidding wrapper |
| **F-19** | **ServicingFacet** | Operational | Auto on disbursement | Platform | `Active → Closed` | Day-to-day payment ops hand-off |
| **F-20** | **AmendmentFacet** | Operational | Optional | `RequestAmendment` | SME / Bank | `Proposed → Approved → Recorded` | Variations to any locked facet |
| **F-21** | **DisputeFacet** | Operational | Optional | `RaiseDispute` | Any | `Open → Mediated → Resolved` | Issue & resolution log |
| **F-22** | **PaymentProcessingFacet** | Operational | Auto | Platform | `Pending → Processed → Failed` | PSP tokens, retries |
| **F-23** | **CreditDecisionFacet** | Risk | Conditional | `O6 CreditDecisionRequested` | Bank | `Draft → Approved / Declined → Expired` | Risk & green scores |
| **F-24** | **RiskMonitoringFacet** | Risk | Auto on Active | Platform | `Open → Triggered → Cleared` | Covenant breach watchers |
| **F-25** | **CovenantMonitoringFacet** | Risk | Conditional | `AttachCovenant` | Bank | `Active → Breached → Waived` | Quant/qual thresholds |
| **F-26** | **DefaultManagementFacet** | Risk | Auto on payment default | Platform | `Pending → Workout → Closed` | NPL workflow pointer |
| **F-27** | **InsuranceFacet** | Risk | Optional | `AttachInsurance` | SME | `Bound → Claimed → Expired` | Policy meta; claim linkage |
| **F-28** | **AuditFacet** | Governance | Auto | Platform | Append-only | Internal & external access log |
| **F-29** | **LegalDocumentFacet** | Governance | Optional | `AttachLegalDoc` | Bank / SME | `Draft → Executed → Archived` | Digitally signed PDFs |
| **F-30** | **ComplianceFacet** | Governance | Auto | `OpportunityCreated` | Platform | `Open → Closed` | AML/KYC refs + GDPR flags |
| **F-31** | **ReportingFacet** | Compliance | Auto on Active | Platform | `InProgress → Filed` | Regulator periodic filings |
| **F-32** | **TokenisationFacet** | Support | Optional | `MintToken` | Platform | `Minted → Transferred → Burned` | On-chain representation |
| **F-33** | **NotificationPrefFacet** | Support | Optional | `SetPrefs` | Any actor | Mutable | Channels & frequency |
| **F-34** | **UserAccessLogFacet** | Support | Auto | Platform | Append-only | Fine-grained audit trail |
| **F-35** | **DocumentStorageFacet** | Support | Auto | Platform | Immutable pointers | S3 / IPFS references |

> **Rule of Thumb:** a *new business requirement* should map to **(a) a new facet** or **(b) a new state in an existing facet**—never to another aggregate.

---

### Logical Architecture — How the Stack Thinks  

1. **Epistemic Core** – **CoreHeader + Identity + Consent** establish existential legitimacy; everything else is optional composition.  
2. **Facet Autonomy** – Each facet owns *its own* micro-state machine; interaction between facets occurs only through **O-code events** broadcast on the aggregate’s event stream.  
3. **Capability Binding** – An actor can issue **Attach / Update / Advance** commands on a facet *iff* the **Actor Capability Matrix** lists that power *and* the facet’s current state allows the transition.  
4. **Macro State Derivation** – The Opportunity’s macro state (`Open → InEvaluation → Active → Settled → Archived`) is **computed**, not stored, via deterministic predicates over facet states.  
5. **Integrity Spine** – Every facet JSON blob is hashed; concatenated hashes form a Merkle tree; the root hash is anchored in the Opportunity header → one tamper-evident chain for the whole lifecycle.  
6. **Extensibility Contract** – Facet schemas are versioned; a breaking change spawns **Facet-v2** under a new UID—old instances remain immutable.

---

### Deployment Readiness Checklist  

1. **Schema Vault** — Publish JSON Schema files for F-00 … F-35; sign them with platform GPG key.  
2. **State-Chart Library** — PlantUML/Mermaid diagrams per facet committed in `/statecharts/`; CI validates O-codes and actor tags.  
3. **Capability Sync** — Matrix auto-generated from facet ACL annotations; exported as CSV for audit teams.  
4. **Event Taxonomy** — Reserve O-codes 0-99 for platform-core, 100-199 for banking functions, 200-299 for sustainability, etc.  
5. **Governance Table** — CI collates facet state charts into a single transition CSV → handed to legal & compliance.  
6. **Retention Policy Map** — Facet UID ↔ minimum legal retention years; wired to archiving service.  

By adopting this expanded facet stack, every conceivable operation—credit underwriting, carbon offset issuance, covenant breach escalation—materialises as a **state change in exactly one facet** on exactly one **Opportunity**. The platform’s behaviour is therefore *logically complete, extensible, and non-ambiguous*.