---
owner: Ben Jendyk
id: c1cfec55-3307-4bac-8ade-88e03c5f2e32
created: 2025-07-10T20:51:52+0200
modified: 2025-07-10T20:51:54+0200
tags: [access/public, language/en]
key-words: []
---

Clarification of your request

A more precise formulation would be: "Define the minimal-sufficient portfolio of GitHub repositories I should create to underpin my personal infrastructure-as-code programme, with explicit rationale for each repository's scope, visibility, and security posture."

* * *

### Strategic Repository Map

| 

Tier

 | 

Repository (Name suggestion)

 | 

Visibility

 | 

Mandate / Content

 | 

Dependencies

 | 

Term of Relevance

 | 
| ---- | ---- | ---- | ---- | ---- | ----  |
| 

Core Control Plane

 | 

infrastructure-core

 | 

Private

 | 

Single flake-based NixOS tree: host modules, home-manager, overlays, CI bootstrap (GitHub Actions → nix flake check).

 | 

None. Root of truth for every machine.

 | 

Permanent

 | 
|  | 

secrets-store

 | 

Private (git-crypt / SOPS)

 | 

age/sops-nix encrypted secrets: passwords, API keys, TOTP seeds, WireGuard keys, restic credentials. No plaintext.

 | 

infrastructure-core (imports secret paths)

 | 

Permanent

 | 
|  | 

dotfiles

 | 

Public

 | 

Shell, editor, CLI configs abstracted from Nix for portability onto non-Nix hosts.

 | 

None

 | 

Long

 | 
| 

Knowledge & Ops

 | 

vault-ops

 | 

Private

 | 

Obsidian vault operations layer: SOPs, runbooks, logbook, device manifests. (Not raw thinking.)

 | 

None

 | 

Long

 | 
|  | 

vault-brain

 | 

Private (optionally git-annex for large assets)

 | 

Raw zettelkasten, research notes. Kept separate to avoid operational churn noise.

 | 

None

 | 

Long

 | 
| 

Public Surface

 | 

dornhelm.com

 | 

Public

 | 

Static site generator (Hugo/Eleventy). GitHub Pages deploy action.

 | 

Optional sub-module blog-content

 | 

Long

 | 
|  | 

digital-garden

 | 

Public

 | 

Curated markdown exports from vault-brain (scripted push). Demonstrates thought leadership without leaking private context.

 | 

vault-brain (one-way export)

 | 

Medium

 | 
|  | 

open-source-contrib

 | 

Public

 | 

Mirrors or forks of upstream projects where you submit PRs. Keeps your main repos clean of third-party history.

 | 

None

 | 

Variable

 | 
| 

Automation & Tooling

 | 

ops-scripts

 | 

Private

 | 

One-off or cron-driven scripts: backups (restic), archive bots, RSS scrapers, monitoring pings.

 | 

secrets-store for credentials

 | 

Medium

 | 
|  | 

containers

 | 

Public

 | 

Declarative OCI images (Dockerfile or Nix), reproducible dev environments.

 | 

infrastructure-core overlays

 | 

Medium

 | 
| 

Resilience & Audit

 | 

backup-manifests

 | 

Private

 | 

Restic/Borg manifests, integrity logs, restore-test results (hash-only). Enables audit without exposing payload.

 | 

ops-scripts

 | 

Long

 | 
|  | 

disaster-recovery-runbook

 | 

Private

 | 

Step-by-step cold-start procedure, PGP-encrypted PDF included. Synced offline.

 | 

All other repos

 | 

Permanent

 | 

* * *

### Guiding Principles

1. One responsibility, one repository.

Over-encapsulation beats monolith bloat; merge only when lifecycle aligns.

2. Public unless it must not be.

Anything not holding secrets or proprietary IP gains free CI/CD, issue tracking, and social proof by being public.

3. Secrets always detached.

A dedicated encrypted repo (secrets-store) prevents accidental leakage through inner-tree ignores.

4. Machine builds never depend on GitHub availability.

Mirror infrastructure-core to a self-hosted bare repo (e.g., on your xyz.com VPS) and add as secondary remote.

5. Immutable history for core repos.

Disable force-push on infrastructure-core and secrets-store; audit trail is part of your DR plan.

6. Automated trust rebuild.

A GitHub Action in infrastructure-core should instantiate a disposable Nix VM, build all hosts, and run a smoke test. Success = green badge → confidence that a fresh laptop can be provisioned from nothing but the repo.

* * *

### Immediate Actions

1. Create the repositories in the order above.

Mark core and secrets as Private from inception.

2. Enable branch protection + required status checks on main for every repo that pushes to production (site, containers, infra).

3. Bootstrap infrastructure-core:
    
    
    nix flake init -t nixos-generators
    git submodule add git@github.com:yourhandle/secrets-store secrets

3. Import the secrets module conditionally so public CI builds succeed with dummy secrets.

4. Set up ops-scripts scheduled workflow to run integrity checks (restic check, DNS health, SSL expiry) and open GitHub Issues on failure.

5. Document in disaster-recovery-runbook the exact command sequence to clone, decrypt, and deploy every repo on bare metal.

* * *

### Metric of Success

- RPO (Recovery Point Objective): ≤ 24 h -- any file lost is ≤ 1 day old.
- RTO (Recovery Time Objective): ≤ 2 h -- full workstation rebuild from nothing to parity.

Achieved when the only manual steps are ❶ boot live USB, ❷ clone infrastructure-core, ❸ run nixos-rebuild.

  

Execute accordingly.