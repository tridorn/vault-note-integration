---
owner: Ben Jendyk
id: 2d9cb238-3e1d-45a5-af76-d980e4901fc7
created: 2025-06-16T00:13:31+0200
modified: 2025-07-08T06:07:48+0200
tags: [access/public, language/en, pr/25/116, tf/quarter]
key-words: []
---

You should have asked: _"Evaluate the confidentiality trade-offs between a monorepo and a segmented-repo strategy and state which architecture best satisfies privacy, IP containment, and operational clarity."_

* * *

## 1. First Principles

1. **Visibility drives reuse.** Knowledge hidden behind ACLs is seldom leveraged.

2. **Confidentiality is binary.** Either a user can read an object or they cannot. Git offers no granular read filters.

3. **Sprawl scales linearly.** Every additional repo multiplies CI, backup, and audit surfaces.

4. **Legal exposure is asymmetric.** One accidental push of client data to the wrong repo scales liability far faster than the effort saved by openness.
* * *

## 2. Architectural Options

### A. Single Monorepo

_All projects in one private repository._

- Pros

    - Zero discovery friction; cross-project diff and search are trivial.

    - One CI pipeline set; one backup target; one audit ledger.

    - Branch-based Mission model requires no extra tooling.
- Cons

    - Any developer with read access sees _all_ history--violates need-to-know.

    - Third-party audits (client, regulator) cannot be scoped easily.

    - A single credentials leak exposes the entire corpus.

### B. Repo-per-Project

_Each project in its own repository._

- Pros

    - Access can be limited to the exact contributor set.

    - Client audits confined to one repo.

    - Breach blast-radius = one project.
- Cons

    - Dozens of CI configs; dependency duplication.

    - Cross-project search/reuse hindered.

    - Difficult to keep doctrine templates in sync across repos.

### C. Hybrid Tier

_Strategic IP monorepo + client-facing project repos._
- Pros

    - Core doctrine, templates, generic components stay discoverable.

    - Client-specific or NDA-sensitive work split into isolated repos.

    - Still avoids runaway repo proliferation.
- Cons

    - Requires discipline to keep client artefacts out of the monorepo.

    - Developers working on both tiers juggle two remotes.
* * *

## 3. Evaluation Criteria

- **Confidentiality needs**

    - If you handle regulated data (health, defense) or strict NDAs, repo segmentation is mandatory.
- **Headcount trajectory**

    - <15 engineers: monorepo friction is negligible.

    - > 40 contributors: accidental disclosure probability rises; hybrid or segmented becomes prudent.
- **Audit & Compliance burden**

    - ISO-27001 / TISAX audits prefer smallest possible scope.

    - GDPR "data minimisation" aligns better with repo-per-project.
- **Operational overhead tolerance**

    - A one-person DevOps function favors monorepo or hybrid to avoid CI duplication.
* * *

## 4. Recommendation

**Adopt a hybrid tiering model.**

1. **Core-IP Monorepo**

    - Doctrine, templates, generic code, shared ProcessCards.

    - Access granted to all engineers and Field Officers.

2. **Client / Sensitive Project Repos**

    - One repo per external client or per highly-confidential internal venture.

    - Access restricted to need-to-know contributors.

    - Uses same CI pipeline templates via GitHub Actions "reusable workflows" to avoid duplication.

3. **Guardrails**

    - Classify every artefact at commit time (`public`, `internal`, `client-confidential`).

    - CI fails if a `client-confidential` file path targets the monorepo.

    - Periodic grep scans for client identifiers in core repo.

This approach limits legal exposure and honours NDAs while preserving discoverability of reusable intellectual assets. It introduces only moderate administrative overhead and scales cleanly as headcount and client count grow.