---
owner: Ben Jendyk
id: 46ff1cf5-4830-4776-bcf7-d2d06b70274d
created: 2025-07-20T20:40:13+0200
modified: 2025-07-20T20:40:15+0200
tags: [access/public, language/en]
key-words: []
---

Below is a **firstâ€‘principles, groundâ€‘up design** for a _unified note architecture_ where **metadata blocks and body sections are exact mirrors**--a _dual-layer contract_.  
Think of the YAML front matter as the **machine layer** and the body as the **human narrative layer**.  
Every conceptual grouping appears **twice**:

| Layer | Purpose | Constraint | 
| ---- | ---- | ----  |
| **Metadata (YAML)** | Structured, terse, machine-queriable | No prose, controlled vocab, stable keys | 
| **Body (Section Mirror)** | Human-readable elaboration of same block | Free prose + tables + examples | 

The mirroring enables deterministic tooling (scripts, AI, Dataview) to _roundâ€‘trip_ between layers: **extract â†’ validate â†’ enrich â†’ regenerate**.

* * *

## 1. First Principles

| Principle | Consequence | 
| ---- | ----  |
| **Single Ontology of Blocks** | Define a canonical set of block _names_ once (e.g., `identity`, `life`, `class`, `link`, `desc`, `src`, `sec`, `meta`, `auto`). | 
| **Bi-Directional Parity** | Each YAML block has one body section with _the same name prefixed numerically._ | 
| **No Orphan Fields** | A YAML key without body elaboration (where elaboration is meaningful) is flagged; a body section without YAML root is also flagged. | 
| **Human Legibility Without YAML** | If someone strips metadata, body still conveys identity & context (mirror headers include minimal summary). | 
| **Composable & Extensible** | A new metadata namespace (e.g., `x_research`) automatically implies a new body section `## N X Research`. | 
| **Deterministic Ordering** | Fixed block order in YAML = identical numeric order in body; adding a block always appends (no renumber cascade). | 
* * *

## 2. Canonical Block Order (v1)

1. `identity`

2. `life`

3. `class`

4. `link`

5. `desc`

6. `src`

7. `sec`

8. `meta`

9. `auto`

10. `x_*` (custom, appended in alphabetical order)

> **Rule:** Only append; never reorder earlier numbers--ensures stable parsing.
* * *

## 3. YAML + Body Mirroring Schema (Example)

### 3.1 YAML (Machine Layer)
    
    
    schema: 1
    identity:
      uid: 20250721101530
      title: Context Switching Tax
      owner: hk
      created: 2025-07-21T10:15:30+02:00
      updated: 2025-07-21T11:04:02+02:00
      rev: 4
    
    life:
      stage: library
      status: final
      project: P2025-003-Deep_Work
      sprint: 2025-W30
      due: null
    
    class:
      topics: [Productivity, Cognitive_Science]
      tags: [concept, attention]
      facets:
        type: concept
        effort_size: small
    
    link:
      broader: [20240405121530]
      related: [20240614144702]
      derived_from: [20240109103011]
      supersedes: []
    
    desc:
      summary: >
        Defines the productivity penalty incurred when switching tasks
        and offers early measurement heuristics.
      keywords_auto: [context switching, cognitive load, productivity, attention]
      words: 348
      lang: en
    
    src:
      origin: book
      refs: [Mark2023AttentionSpan]
      urls: [https://example.com/attention]
      captured_via: manual
    
    sec:
      sensitivity: public
      retention: retain
      review_on: 2026-07-01
      license: CC-BY-4.0
    
    meta:
      last_opened: 2025-07-21T11:03:50+02:00
      open_count: 8
      referenced_by: 17
    
    auto:
      export: true
      ai_embedding: done
      lock: false
    

### 3.2 Body (Human Layer)
    
    
    # Context Switching Tax
    
    > **Mirror Index:** 1 Identity Â· 2 Life Â· 3 Class Â· 4 Link Â· 5 Desc Â· 6 Src Â· 7 Sec Â· 8 Meta Â· 9 Auto
    
    ---
    
    ## 1 Identity
    **UID:** 20250721101530  
    **Owner:** hk  
    **Revision:** 4 (Created 2025-07-21)  
    
    *Human elaboration (optional):* Short narrative about why this concept was coined for the vault.
    
    ---
    
    ## 2 Life
    | Stage | Status | Project | Sprint | Due |
    |-------|--------|---------|--------|-----|
    | library | final | P2025-003-Deep_Work | 2025-W30 | -- |
    
    **Lifecycle Note:** Graduated to *library* after validation in two experiments.
    
    ---
    
    ## 3 Class
    **Topics:** Productivity Â· Cognitive_Science  
    **Tags:** concept, attention  
    **Facets:** type=concept Â· effort_size=small  
    
    *Justification:* Lives under Productivity rather than Time_Management because focus fragmentation impact > schedule logistics.
    
    ---
    
    ## 4 Link
    **Broader:** [[20240405121530]] (Attention Management)  
    **Related:** [[20240614144702]] (Flow State)  
    **Derived From:** [[20240109103011]] (Cognitive Load Theory)  
    
    *Graph Narrative:* Acts as a quantitative bridge between Cognitive Load and observed Flow disruptions.
    
    ---
    
    ## 5 Desc
    **Summary (mirror):** Defines the productivity penalty incurred when switching tasks and offers early measurement heuristics.
    
    ### 5.1 Core Definition
    > *Context Switching Tax* = (Reorientation Time Ã— Switch Frequency)
    
    ### 5.2 Indicators
    - Increased error rate
    - Prolonged warm-up intervals after each interruption
    
    ### 5.3 Measurement Heuristic
    Track *idle-to-productive elapsed (s)* post-switch over 7-day window.
    
    ---
    
    ## 6 Src
    | Origin | Refs | URLs | Captured Via |
    |--------|------|------|--------------|
    | book | Mark2023AttentionSpan | (1) | manual |
    
    **Ref Notes:** Mark (2023) chapter 4 presents empirical reorientation costs.
    
    ---
    
    ## 7 Sec
    | Sensitivity | Retention | Review On | License |
    |-------------|-----------|-----------|---------|
    | public | retain | 2026-07-01 | CC-BY-4.0 |
    
    ---
    
    ## 8 Meta
    | Last Opened | Open Count | Backlink Count |
    |-------------|------------|----------------|
    | 2025-07-21T11:03:50+02:00 | 8 | 17 |
    
    *Diffusion:* Above-average backlink count--candidate for a cheatsheet spawn.
    
    ---
    
    ## 9 Auto
    | Export | AI Embedding | Lock |
    |--------|--------------|------|
    | âœ… | done | ðŸ”“ |
    
    > *All auto fields are machine-owned; no manual edits unless repairing corruption.*
    

* * *

## 4. Mapping Contract

| YAML Block | Body Section Title | Must Exist? | Human Content Allowed? | Machine Editable? | 
| ---- | ---- | ---- | ---- | ----  |
| `identity` | `## 1 Identity` | Always | Short rationale optional | `uid`, `created`, etc. | 
| `life` | `## 2 Life` | If actionable or staged | Lifecycle commentary | Stage/status updated script | 
| `class` | `## 3 Class` | If topics/tags exist | Classification justification | Vocabulary audit | 
| `link` | `## 4 Link` | If relationships exist | Graph narrative | Parent enforcement | 
| `desc` | `## 5 Desc` | If summary present | Full explanatory content | `keywords_auto`, `words` | 
| `src` | `## 6 Src` | If external source | Source commentary | URL/refs normalization | 
| `sec` | `## 7 Sec` | If non-public or policy | Governance note | Review scheduler | 
| `meta` | `## 8 Meta` | Optional | Interpret metrics | Metrics refresh | 
| `auto` | `## 9 Auto` | Optional | None (read-only block) | Flags updated pipeline | 
| `x_namespace` | `## N X Namespace` | If block exists | Domain explanation | Domain scripts | 

* * *

## 5. Creation & Promotion Workflow (Atomic)

| Event | YAML Action | Body Action | 
| ---- | ---- | ----  |
| New capture | Create `identity`, `life.stage: capture`, minimal `desc.summary` optional | Only `## 1 Identity` & `## 2 Life`scaffold | 
| Triage â†’ Nurture | Update `life.stage` | Add row in Life table (optional) | 
| Plan project link | Add `life.project` | Add project link inside Life section | 
| Move to Library | Change `life.stage: library`, fill `class.topics` | Flesh out `## 5 Desc`, add `## 4 Link` | 
| Enrich sources | Append `src.refs`, `src.urls` | Update `## 6 Src` table commentary | 
| Archive | `life.stage: archive` | Optional note in Life section ("Archived becauseâ€¦") | 

* * *

## 6. Automation Specification

### 6.1 Section Integrity Script

- Parse YAML block order.
- Parse body headings: `^##\s(\d+)\s([A-Za-z _-]+)$`
- Ensure numeric â†’ block name slug match (case-insensitive).
- Report mismatches & missing mirrors.

### 6.2 Round-Trip Sync Rules

| Field Type | Direction | Logic | 
| ---- | ---- | ----  |
| Identity core (uid, created) | YAML â†’ Body | Body never overwrites | 
| Title | Body H1 â†’ YAML.identity.title | Linter sync each save | 
| Stage / Status | Folder move â†’ YAML.life.* â†’ Body table | If user edits table status, script validates parity | 
| Computed (words, keywords_auto) | Body content â†’ YAML.desc.* | Recompute on save | 
| Backlink counts | Graph scan â†’ YAML.meta.referenced_by â†’ Body table | Body shows snapshot | 

### 6.3 Append-Only Block Evolution

- New block `impact:` added â†’ YAML at bottom â†’ new `## N Impact`
- `SCHEMA.md` updated with version rationale (if semantics breaking, bump `schema`).
* * *

## 7. Advantages (Quantified & Qualitative)

| Dimension | Benefit | 
| ---- | ----  |
| **Cognitive Load** | You always know _where to put_ any kind of info: machine key upstairs, narrative elaboration downstairs. | 
| **Auditability** | Quick diff: YAML shows structure changes, body shows reasoning. | 
| **AI / LLM Use** | Prompts can target "Provide desc.summary" vs "Expand Desc section" cleanly. | 
| **Refactoring Safety** | Changing classification logic leaves body context intact; classification block can be regenerated. | 
| **Onboarding** | A new collaborator can ignore YAML and still glean structure from mirrored body headers. | 
| **Tool Neutral** | If exported to plain Markdown (YAML stripped), you retain the taxonomy with explicit sections. | 
* * *

## 8. Potential Pitfalls & Mitigations

| Risk | Mitigation | 
| ---- | ----  |
| Duplication fatigue | Keep body _elaboration_, not verbatim YAML restatement. Use tables for fast glance. | 
| Stale divergence | Integrity script in pre-commit; CI fails if mismatch. | 
| Section bloat for simple notes | Permit "compact mode": Notes in stages `capture` or `triage` may only include Sections 1--2. | 
| Renumber disruption | Never insert in middle; always append new blocks. | 
| Manual editing of auto blocks | Add top comment "AUTO-GENERATED -- DO NOT EDIT" inside those body subsections. | 
* * *

## 9. Templates

### 9.1 Minimal (Capture / Triage)
    
    
    ---
    schema: 1
    identity:
      uid: TIMESTAMP
      title: PLACEHOLDER_TITLE
      owner: hk
      created: ISO_NOW
      updated: ISO_NOW
      rev: 1
    life:
      stage: capture
      status: idea
    desc:
      summary: >
        (Optional one-line)
    ---
    
    # PLACEHOLDER_TITLE
    
    ## 1 Identity
    UID: TIMESTAMP
    
    ## 2 Life
    | Stage | Status |
    |-------|--------|
    | capture | idea |
    

### 9.2 Evergreen Concept (Expanded)

(As in full example above--store in `00_System/Templates/Note_Concept.md`.)

* * *

## 10. Migration Path (Legacy Notes)

| Step | Action | 
| ---- | ----  |
| 1 | Detect existing YAML keys; map into new block grouping. | 
| 2 | Generate missing body sections with canonical tables. | 
| 3 | Insert numeric headings sequentially. | 
| 4 | Add `SCHEMA.md` entry: "Adopt mirrored architecture v1 -- date." | 
| 5 | Run summarizer to fill `desc.summary` if missing. | 
| 6 | Backfill `identity.rev: 1`, set `life.stage` from folder. | 
| 7 | Validate parity; commit. | 

* * *

## 11. Future Extensions

| Scenario | New Block | Body Section Name | 
| ---- | ---- | ----  |
| Add experiment metrics | `x_research:` | `## N X Research` | 
| Add financial ledger info | `x_finance:` | `## N X Finance` | 
| Add publishing pipeline | `pub:` | `## N Pub` | 

* * *

## 12. Quick Reference Cheat Card (Put in `00_System/Guides/`)
    
    
    Block Pairing:
    identity â†” 1 Identity
    life     â†” 2 Life
    class    â†” 3 Class
    link     â†” 4 Link
    desc     â†” 5 Desc
    src      â†” 6 Src
    sec      â†” 7 Sec
    meta     â†” 8 Meta
    auto     â†” 9 Auto
    x_*      â†” N X *
    Rules: Append only Â· Keep body elaborative Â· Sync script enforces parity.
    

* * *

### TL;DR

You now have a **mirrored, modular note system** where _structure and semantics_ live in YAML for machines and in orderly, numbered sections for humans. This duality futureâ€‘proofs your vault, powers automation, and keeps reasoning visible.

If you'd like next steps (scripts, regex validators, or a sample migration script), just ask and specify your language preference (Python, Node, etc.).