
# Global conventions

* IDs: kebab-case, unique if possible (e.g., 20250812-112233-book-x).
* Dates: ISO 8601 (YYYY-MM-DD or full datetime+tz).
* Enums: case-exact.
* Arrays: ordered where sequence matters.
* Cross-refs: consistent id|path|url form.

---

## 1) identity

* id (R, string)
* title (R, string)
* type (R, enum: note|book|paper|project|idea|meeting|experiment|spec|review)
* owner (O, string)
* visibility (O, private|team|public)
* language (O, IETF tag)

## 2) intent

* purpose (R, string, one sentence)
* questions (O, array)
* outcome (O, string)
* audience (O, array)

## 3) sources

* items: \[{id, title, author\[], year, container, publisher, edition, doi, isbn, url, pages, accessed}]
  Rule: if doi, url optional; otherwise require url.

## 4) inputs

* datasets: \[{id, path|url, desc}]
* requirements: \[{id, text}]
* prompts: \[{id, text}]
* assets: \[{id, path|url, kind(image|audio|video|doc|code|slide|table), desc}]

## 5) method

* approach (O, string)
* steps (O, ordered array)
* tools (O, array)
* protocol (O, string)
* when (O, string|date|range)

## 6) content

* mode (R, enum: draft|summary|analysis|build|final)
* template (O, string)
* scope\_note (O, string)
  Body text stored under ## content block.

## 7) findings

* statements: \[{id, text}]
* quotes: \[{id, text, source\_id, page}] (<10 lines)
* artifacts: \[{id, path|url, kind, desc}]
* metrics: {name: value}
* quality: low|medium|high

## 8) conclusions

* claims: \[{id, text, support\[], confidence}] (confidence: low|medium|high)
* decision (O, string)
* rationale (O, string)

## 9) next

* action (O, string, single primary)
* owner (O, string)
* due (O, date|datetime)
* backlog (O, array)
  Rule: if state.status=done|canceled → next.action empty.

## 10) state

* stage (R: capture|clarify|work|review|done|archive)
* status (R: open|blocked|waiting|done|canceled)
* project (O, string)
* tags (O, array)
* priority (O: low|normal|high|urgent)
* created (R, date)
* updated (R, date)
* effort (O, number, hours/points)
  Rule: if stage=archive → status must be done|canceled.

## 11) ledger

* entries: \[{ts (R, datetime), event (R, string), who, meta\_delta\_ref, note}]
  Rule: append-only, never edit.

## 12) links

* parent (O, id|path)
* children (O, array\<id|path>)
* depends\_on (O, array\<id|path>)
* related (O, array\<id|path>)
* aliases (O, array)
  Rule: do not mix ids and paths in same list.

---

## Minimal required

identity.id, identity.title, identity.type
intent.purpose
content.mode
state.stage, state.status, state.created, state.updated

---

## Usage notes

* Book: fill sources.items\[0], emphasize quotes, conclusions.claims, mark stage=done when finished.
* Paper: as book, plus method.
* Project/Experiment: rely on inputs, method, findings.metrics/artifacts, next, ledger.
